<div class="w-full h-full flex flex-col bg-background">
  <div class="flex items-center border-b p-3">
    <div class="flex items-center mr-auto">
      <button hlmBtn class="p-2 text-2xl" variant="ghost" routerLink="/">
        <ng-icon hlm class="mr-2" name="lucideBook" />
        <div>Citadel</div>
      </button>
      @if (router.url !== '/') {
      <lib-search
        class="hidden md:flex ml-2"
        variant="slim"
        [(value)]="searchService.query"
        (search)="search()"
      ></lib-search>
      }
    </div>
    <div class="flex items-center ml-auto">
      <button hlmBtn variant="link" routerLink="/user/favorites">
        Favorites
      </button>
      <button hlmBtn size="icon" variant="ghost" (click)="toggleTheme()">
        @if (themeService.theme() === 'dark') {
        <ng-icon hlm size="sm" name="lucideSun" />
        } @else {
        <ng-icon hlm size="sm" name="lucideMoon" />
        }
      </button>
      @if (authenticated$ | async) {
      <button hlmBtn size="icon" variant="ghost" (click)="logout()">
        <ng-icon hlm size="sm" name="lucideLogOut" />
      </button>
      } @else {
      <button hlmBtn size="icon" variant="ghost" routerLink="/auth/login">
        <ng-icon hlm size="sm" name="lucideLogIn" />
      </button>
      }
    </div>
  </div>
  @if (router.url !== '/') {
  <div class="py-2 border-b md:hidden p-3">
    <lib-search [(value)]="searchService.query" (search)="search()"></lib-search>
  </div>
  }
  <div class="flex flex-col flex-grow overflow-x-hidden overflow-y-auto p-3 pt-1">
    <router-outlet></router-outlet>
  </div>
</div>
